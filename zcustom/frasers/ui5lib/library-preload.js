jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "zcustom.frasers.ui5lib.library-preload",
	"modules": {
		"zcustom/frasers/ui5lib/control/ZAttachmentsPane.js": "sap.ui.define([\"sap/client/basecontrols/core/CustomPane\",\"sap/m/MessageToast\",\"sap/m/GenericTile\",\"sap/m/GenericTileScope\",\"sap/ui/unified/FileUploader\",\"sap/client/m/util/ImageResizer\",\"sap/client/m/create/QuickCreateTile\",\"sap/m/ScrollContainer\",\"sap/m/LightBox\",\"sap/m/LightBoxItem\",\"zcustom/frasers/ui5lib/ext/ZThumbnailTile\",\"zcustom/frasers/ui5lib/ext/ZThumbnailTileContent\",\"zcustom/frasers/ui5lib/ext/ZImage\"],function(e,t,i,a,o,n,s,r,l,h,d,c,m){\"use strict\";return e.extend(\"zcustom.frasers.ui5lib.control.ZAttachmentsPane\",{metadata:{library:\"zcustom.frasers.ui5lib\",properties:{},aggregations:{browseTile:{type:\"sap.client.m.create.QuickCreateTile\",multiple:!1},cameraTile:{type:\"sap.client.m.create.QuickCreateTile\",multiple:!1},attachments:{type:\"sap.m.GenericTile\",multiple:!0,singularName:\"attachment\"},tileContainer:{type:\"sap.m.ScrollContainer\",multiple:!1}},events:{}},SMALL_WIDTH_HEIGHT:400,MEDIUM_WIDTH_HEIGHT:600,LARGE_WIDTH_HEIGHT:800,renderer:function(e,t){e.write(\"<div\"),e.writeControlData(t),e.addClass(\"zAttachments\"),e.writeClasses(),e.write(\">\"),e.write(\"<div style='display : none'>\"),e.renderControl(t._stdFUoControl),e.write(\"</div>\"),e.renderControl(t.getTileContainer()),e.write(\"</div>\")},_getCustomParameters:function(){this._primaryPath=this.getParameter(\"primaryPath\")?this.getParameter(\"primaryPath\"):\"/Root/AttachmentFolder/AddParams\",this._attach2EC=this.getParameter(\"attach2EC\")?this.getParameter(\"attach2EC\"):\"COD_Documentlist\",this._enableImageProcessor=this.getParameter(\"enableImageProcessor\")?this.getParameter(\"enableImageProcessor\"):\"None\",this._onFileSelected=this.getParameter(\"onFileSelected\"),this._bHideBrowse=\"true\"===this.getParameter(\"hideBrowse\"),this._bHideCamera=\"true\"===this.getParameter(\"hideCamera\"),this._bHideImages=\"true\"===this.getParameter(\"hideImages\"),this._bHideNonImages=\"true\"===this.getParameter(\"hideNonImages\"),this._bMultipleFiles=!(\"true\"===this.getParameter(\"singleFile\")),this._bMultipleFiles=!1,this._bAlwaysResize=\"true\"===this.getParameter(\"alwaysResize\"),this._bAlwaysResize=!1},_setupThumbnailSize:function(e){var t;if(e&&(t=$(\"#\"+e).get(0)),t||this._maxThumbnailHeight&&this._maxThumbnailHeight||(t=$(\"#\"+this.getControlPrefixId()+\"-browseTile\").get(0))||(t=$(\"#\"+this.getControlPrefixId()+\"-cameraTile\").get(0)),t)if(t.clientWidth&&t.clientHeight)this._maxThumbnailWidth=Math.round(t.clientWidth),this._maxThumbnailHeight=Math.round(t.clientHeight);else{var i=getComputedStyle(t);i&&(this._maxThumbnailWidth=Math.round(parseFloat(i.width)),this._maxThumbnailHeight=Math.round(parseFloat(i.height)))}},initializePane:function(){if(this.oController=this.getController(),this._oApplication=this._oApplication||this.oController&&this.oController.getApplication&&this.oController.getApplication()||sap.client.getCurrentApplication&&sap.client.getCurrentApplication(),this._oApplication.isNewUI()){this._oRuntimeEnviroment=this.oController&&this.oController.getRuntimeEnvironment&&this.oController.getRuntimeEnvironment()||this._oApplication.getRuntimeEnvironment(),this._getCustomParameters(),this._attachedECController=this._getAttachedECController(),this._attachedECController?this._onChildControllerAdded():this.oController.getParentController().attachEvent(\"ChildControllerAdded\",this,this._onChildControllerAdded,this),this.Documents=[],this.Thumbnails=[];var e,t=this._primaryPath,i=this._oRuntimeEnviroment,a=i.isRunningInContainer(),s=sap.ui.Device.os.ios,r=this._oApplication.getSettings();e=this._oApplication.isOfflineMode()?r.getDefaultImageUploadResolutionClassificationForOffline():r.getDefaultImageUploadResolutionClassificationForOnline(),this._setupImageResize(e);if(\"Crop\"===this._enableImageProcessor&&this.oController){if(!i.isRunningOnWindowsContainer()){jQuery.sap.require(\"sap.client.basecontrols.core.ImageProcessor\");var l=new sap.client.basecontrols.core.ImageProcessor(this,t);this.oController.setImageProcessor(l)}}this._iCompressedWidthHeight&&!this.oController.getImageProcessor()&&(this.oImageResizer=new n(this._iCompressedWidthHeight,this._iCompressedWidthHeight)),this.oFileUploader=new o(this.getControlPrefixId(),{uploadOnChange:!1,sameFilenameAllowed:!0,buttonOnly:!0,sendXHR:!0,multiple:this._bMultipleFiles,change:[this._fnFileUploader_Change,this],uploadAborted:function(){this._closeUploadingDialog()}.bind(this),uploadComplete:[this._fnFileUploader_UploadComplete,this],fileSizeExceed:function(e){sap.m.MessageToast.show(sap.client.m.Util.getLocaleText(\"FileUploadExceedLimitMsg\",\"Exceeds maximum file size of 2MB\"))}}),this.oFileUploader.setTooltip(sap.client.m.Util.getLocaleText(\"FileUploader_ToolTip\",\"No file chosen\")),{Visible:\"visible\",Enabled:\"enabled\",Text:\"buttonText\"},a&&!s&&(this.oFileUploader.setIcon(sap.ui.core.IconPool.getIconURI(\"open-folder\")),this.oFileUploader.setIconOnly(!0)),this._stdFUoControl=this.oFileUploader,this._stdFUoControl.addStyleClass(\"sapClientMFileUpload\"),this.oTileContainer=(new sap.m.ScrollContainer).addStyleClass(\"sapUiTinyMargin\"),this.setTileContainer(this.oTileContainer),this._buildTiles()}},_onChildControllerAdded:function(e){if(this._getAttachedECController()){var t=this._attachedECController.getDataContainer();this.fUpdateFinished=$.proxy(this._DataContainerUpdateFinished,this),t.attachDataContainerUpdateFinished(this.fUpdateFinished)}},destroy:function(){if(this._getAttachedECController()){var e=this._attachedECController.getDataContainer();this.fUpdateFinished&&(e.detachDataContainerUpdateFinished(this.fUpdateFinished),this.fUpdateFinished=null)}},_fnFileUploader_Change:function(e){var t=e.mParameters;if(!t||t.newValue)if(this.isImageFileUploader(e.oSource)&&this.oImageResizer){var i={mParameters:e.mParameters,oSource:e.oSource},a=e.mParameters.files[0];this.oImageResizer.resizeImageFile(a).then(function(e){this._onImageResized(i,e)}.bind(this),function(e){this._onFileChange(i)}.bind(this))}else this._onFileChange(e)},_fnFileUploader_UploadComplete:function(e){var t=this._primaryPath;if(this._closeUploadingDialog(),this._getAttachedECController()){var i=e.mParameters.response||e.mParameters.responseRaw;if(i){i=unescape(decodeURI(i)),i=i.replace(/[\\r]/g,\"\");var a=i.split(\"\\n\");if(3===a.length){var o=a[0].split(\"=\")[1],n=a[1].split(\"=\")[1],s=a[2].split(\"=\")[1],r=this._attachedECController.getDataContainer();if(sap.ui.Device.os.ios){var l=sap.client.util.Util.createGuid(),h=n.split(\".\");if(h.length<2)n=n+\"-\"+l;else{var d=h.pop();n=h.pop()+\"-\"+l+\".\"+d}}r.setProperty(t+\"/content\",\"id=\"+o,this.getBindingContext()),r.setProperty(t+\"/fileName\",n,this.getBindingContext()),r.setProperty(t+\"/fileSize\",s,this.getBindingContext()),r.checkUpdate(t+\"/fileName.FormattedValue\")}var c;e&&e.getSource&&(c=new sap.client.evt.EventContext(e.getSource())),this._onFileSelected=this.___checkAndCreateEH(this._onFileSelected);var m=this._onFileSelected;m&&this._attachedECController.getEventProcessor().handleEvent(m,c)}}},_getAttachedECController:function(){return this._attachedECController||this.oController&&this.oController.getParentController()&&this.oController.getParentController().getChildController(this._attach2EC)&&(this._attachedECController=this.oController.getParentController().getChildController(this._attach2EC)),this._attachedECController},_DataContainerUpdateFinished:function(){if(this._getAttachedECController()){var e=this._attachedECController.getDataContainer(),t=e.getDataObject(\"/Root/AttachmentFolder/DocumentList\"),i=t.getCount();if(i!==this.Documents.length){this.Documents=[];var a,o={},n=[];for(a=0;a<i;a++)n[t.getDataListBindingContext(a).sRowPath]=\"/Root/AttachmentFolder/DocumentList/\"+a;var s;for(s=0;s<i;s++){var r=t.getRow(s);r&&(o={},o.RowIndex=r.getMember(\"@RowIndex\").getValue(),o.NodeID=r.getMember(\"NodeID\").getValue(),o.FileName=r.getMember(\"FileName\").getValue(),o.MimeCode=r.getMember(\"MimeCode\").getValue(),o.FileContentURI=r.getMember(\"FileContentURI\").getValue(),o.ThumbnailURL=r.getMember(\"ThumbnailURL\").getValue(),o.CreatedOn=r.getMember(\"CreatedOn\").getValue(),o.ChangedOn=r.getMember(\"ChangedOn\").getValue(),o._sNodeId=r.getNodeId(),o._sPath=r.getPath(),o.DocumentListPath=n[o._sPath],this.Documents.push(o))}this.Documents.sort(function(e,t){return t.ChangedOn-e.ChangedOn}),this._buildTiles()}}},_buildTiles:function(){if(this.oTileContainer){if(this.oTileContainer.destroyContent(),this.getBrowseTile())this.oTileContainer.addContent(this.getBrowseTile());else if(!this._bHideBrowse){var e=new sap.client.m.create.QuickCreateTile(this.getControlPrefixId()+\"-browseTile\",{text:\"Browse\",icon:\"sap-icon://open-folder\",press:function(){document.getElementById(this.getControlPrefixId()+\"-fu\").click()}.bind(this)}).addStyleClass(\"sapClientMQCTile sapMGT OneByOne sapUshellTile\");this.setBrowseTile(e),this.oTileContainer.addContent(e)}if(navigator.camera)if(this.getCameraTile())this.oTileContainer.addContent(this.getCameraTile());else if(!this._bHideCamera){var t=new sap.client.m.create.QuickCreateTile(this.getControlPrefixId()+\"-cameraTile\",{text:\"Camera\",icon:\"sap-icon://add-photo\",press:[this.onPictureButtonPress,this]}).addStyleClass(\"sapClientMQCTile sapMGT OneByOne sapUshellTile\");this.setCameraTile(t),this.oTileContainer.addContent(t)}for(var i=this.Documents.length,o=0;o<i;o++){var n=this.Documents[o];if(this.isImageMimeCode(n.MimeCode)){if(!this._bHideImages){var s=new sap.m.LightBox,r=new sap.m.LightBoxItem({imageSrc:n.FileContentURI,title:n.FileName});s.addImageContent(r);var l=this.Thumbnails[n.NodeID],h=l||n.FileContentURI,g=new m({densityAware:!1,src:h});g.setDetailBox(s),g.addCustomData(new sap.ui.core.CustomData({key:\"_Document\",value:n})),l||g.attachLoad(this._imageOnLoad,this);var p=new c;p.setContent(g);var u=new d(this.getControlPrefixId()+\"-attaimg-\"+n.NodeID,{scope:a.Actions,press:[this._tilePressed,this]}).addStyleClass(\"sapUshellTile\");u.addTileContent(p),u._oDocument=n,this.addAttachment(u),this.oTileContainer.addContent(u)}}else if(!this._bHideNonImages){var C=this._getIconFromFilename(n.FileName),f=new sap.m.ImageContent({src:C}),_=new sap.m.TileContent;_.setContent(f);var T=new sap.m.GenericTile(this.getControlPrefixId()+\"-atta-\"+n.NodeID,{header:n.FileName,scope:a.Actions,press:[this._tilePressed,this]}).addStyleClass(\"sapUshellTile\");T.addTileContent(_),T._oDocument=n,this.addAttachment(T),this.oTileContainer.addContent(T)}}}},_convertRemToPixels:function(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)},_imageOnLoad:function(e){var t;try{if(t=e.getSource().getDomRef().children[1],!(this._maxThumbnailHeight&&this._maxThumbnailWidth||(this._setupThumbnailSize(t.getSource().getParent().getParent().getId()),this._maxThumbnailHeight&&this._maxThumbnailWidth)))return}catch(e){return}var i,a,o,n=t.naturalWidth,s=t.naturalHeight,r=n>this._maxThumbnailWidth||s>this._maxThumbnailHeight,l={};if(l=t,r){var h=document.createElement(\"canvas\");h.id=\"canvasResize\",h.width=n,h.height=s,n>s?(i=Math.round(n*(this._maxThumbnailHeight/s)),a=this._maxThumbnailHeight):(i=this._maxThumbnailWidth,a=Math.round(s*(this._maxThumbnailWidth/n))),h.width=i,h.height=a;h.getContext(\"2d\").drawImage(l,0,0,h.width,h.height),n=i,s=a,l=h,o=h.toDataURL(\"image/jpg\",.5)}if(n>this._maxThumbnailWidth&&s===this._maxThumbnailHeight||s>this._maxThumbnailHeight&&n===this._maxThumbnailWidth){var d=document.createElement(\"canvas\");h.id=\"canvasCrop\",d.width=n,d.height=s;var c,m;n>s?(c=Math.round((n-this._maxThumbnailWidth)/2),m=0):(c=0,m=Math.round((s-this._maxThumbnailHeight)/2)),d.width=this._maxThumbnailWidth,d.height=this._maxThumbnailHeight,d.getContext(\"2d\").drawImage(l,c,m,this._maxThumbnailWidth,this._maxThumbnailHeight,0,0,this._maxThumbnailWidth,this._maxThumbnailHeight),o=d.toDataURL(\"image/jpg\",.5)}o&&o!==t.src&&(t.src=o,this.Thumbnails[e.getSource().data(\"_Document\").NodeID]=o)},_isDebugMode:function(){var e=window[\"sap-ui-debug\"];return sap.client.getCurrentApplication().isDebugMode()||e},_getUserMedia:function(e,t,i){var a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(a)return a.bind(navigator)(e,t,i)},_grabVideo:function(){if(!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia))return void t.show(\"User Media API not supported.\");var e={video:!0};this._getUserMedia(e,function(e){var t=document.querySelector(\"video\");\"srcObject\"in t?(t.srcObject=e,t.src=(window.URL||window.webkitURL).createObjectURL(e)):navigator.mozGetUserMedia&&(t.mozSrcObject=e),this._theStream=e}.bind(this),function(e){t.show(\"Error: \"+e)}.bind(this)).bind(this)},_takePhoto:function(){if(!(\"ImageCapture\"in window))return void t.show(\"ImageCapture is not available\");if(!this._theStream)return void t.show(\"Grab the video stream first!\");var e=new ImageCapture(this._theStream.getVideoTracks()[0]),i=this;e.takePhoto().then(function(e){document.getElementById(\"imageTag\").src=URL.createObjectURL(e);i._uploadFile(e,\"test\").bind(i)}).catch(function(e){t.show(\"Error: \"+e)})},_tilePressed:function(e){if(e.getSource()&&e.getSource()._oDocument&&e.getSource()._oDocument.DocumentListPath){var t=e.getParameter(\"action\"),a=e.getSource()._oDocument;if(a){var o=t===i._Action.Remove?\"DeleteConfirmation\":\"\";this.isImageMimeCode(a.MimeCode)||(o=t===i._Action.Press?\"OpenDocument\":o);var n=new sap.client.evt.EventContext(e.oSource);n&&o&&(n._sImplicitLeadSelectionPath=a.DocumentListPath,n.addParam(sap.client.evt.EventContext.PARAMETERS.ROW_IDENTIFIER.PATH,\"/Root/AttachmentFolder/DocumentList\"),n._oEventArguments[sap.client.evt.EventContext.PARAMETERS.ROW_IDENTIFIER]=a._sNodeId,this._attachedECController.getEventProcessor().handleEvent(o,n))}}},onBeforeRendering:function(){},onAfterRendering:function(){this._setupThumbnailSize()},_setupImageResize:function(e){if(e&&(this._oRuntimeEnviroment.isRunningInContainer()||this._bAlwaysResize))switch(e){case\"L\":this._iCompressedWidthHeight=this.LARGE_WIDTH_HEIGHT;break;case\"M\":this._iCompressedWidthHeight=this.MEDIUM_WIDTH_HEIGHT;break;case\"S\":this._iCompressedWidthHeight=this.SMALL_WIDTH_HEIGHT;break;default:this._iCompressedWidthHeight=null}},_showUploadingDialog:function(){this._oDialog||(this._oDialog=new sap.m.Dialog(this.getControlPrefixId()+\"-dialog\",{title:sap.client.m.Util.getLocaleText(\"UploadInProgress\",\"Uploading...\"),content:new sap.m.Text(this.getControlPrefixId()+\"-text\",{text:sap.client.m.Util.getLocaleText(\"FileUploadingMsg\",\"Uploading file to server, please wait ...\")})})),this._oDialog.open()},_closeUploadingDialog:function(){this._oDialog&&this._oDialog.close()},_onImageResized:function(e,t,i){var a=i;if(e){var o=e.mParameters.files[0];o&&(a=o.name)}if(this._oApplication.isOfflineMode()){var n=this._dataUriToBlob(t);this._uploadFile(n,a)}else this._uploadFile(t,a)},_dataUriToBlob:function(e){for(var t=e.split(\",\"),i=t[0].match(/:(.*?);/)[1],a=atob(t[1]),o=a.length,n=new Uint8Array(o);o--;)n[o]=a.charCodeAt(o);return new Blob([n],{type:i})},_uploadFile:function(e,t){var i=new window.FileTransfer;this._oApplication.isOfflineMode()&&(i=this.getOfflineFileTransfer());var a,o=this._oRuntimeEnviroment,n=(o.isRunningInContainer(),new window.FileUploadOptions);a=t||(e.name?e.name:\"file\"),n.fileName=a,n.fileKey=\"file\",n.chunkedMode=!1,\"string\"==typeof e&&e.match(\"image.*\")?n.mimeType=\"image/png\":\"string\"==typeof e&&e.match(\"data:.*\")?n.mimeType=e.split(\";\")[0].split(\":\")[1]:n.mimeType=e.type,n.headers={Referer:window.location.href},this._showUploadingDialog();var s=this.getUploadURL(),r=this.onFileUploadSuccess.bind(this),l=this.onFileUploadFail.bind(this);i.upload(e,s,r,l,n)},_onFileChange:function(e){var t;if(this._oApplication.isOfflineMode()){t=this._oApplication.getFileTransfer(),this._showUploadingDialog();var i=e.mParameters.files[0],a={fileKey:\"file\",fileName:i.name,mimeType:i.type},o=this.onFileUploadSuccess.bind(this),n=this.onFileUploadFail.bind(this);t.upload(i,null,o,n,a)}else{t=e.oSource;var s=this.getUploadURL();t.setUploadUrl(s);var r=this.oController.getImageProcessor();r?this.isImageFileUploader(t)?r.openPreview(s,e):(t.upload(),r.closePreview(s,e)):(this._showUploadingDialog(),t.upload())}},isImageFileUploader:function(e){if(e&&e.oFileUpload){var t=e.oFileUpload.files[0];return this.isImageFile(t)}return!1},isImageFile:function(e){return!!(e&&e.type&&e.type.match(\"image.*\")||e&&e.mimeType&&e.mimeType.match(\"image.*\"))},isImageMimeCode:function(e){return!!e.match(\"image.*\")},_getIconFromFilename:function(e){var t=this._splitFilename(e).extension;switch(\"string\"===jQuery.type(t)&&(t=t.toLowerCase()),t){case\".bmp\":case\".jpg\":case\".jpeg\":case\".png\":return\"sap-icon://card\";case\".csv\":case\".xls\":case\".xlsx\":return\"sap-icon://excel-attachment\";case\".doc\":case\".docx\":case\".odt\":return\"sap-icon://doc-attachment\";case\".pdf\":return\"sap-icon://pdf-attachment\";case\".ppt\":case\".pptx\":return\"sap-icon://ppt-attachment\";case\".txt\":return\"sap-icon://document-text\";default:return\"sap-icon://document\"}},_splitFilename:function(e){var t={},i=e.split(\".\");return 1===i.length?(t.extension=\"\",t.name=i.pop(),t):(t.extension=\".\"+i.pop(),t.name=i.join(\".\"),t)},getOfflineFileTransfer:function(){if(!this.oOfflineFileTransfer){var e=sap.ui.requireSync(\"sap/client/setup/offline/FileTransfer\"),t=this._oApplication.getOfflineAPI();this.oOfflineFileTransfer=new e(t)}return this.oOfflineFileTransfer},setControlWidth:function(e){this.oControl.setWidth&&this.oControl.setWidth(\"100%\")},getUploadURL:function(){var e,t=this._oApplication.getRepositoryUrl();if(t&&(e=t.indexOf(\"/sap/\")+4)>=0){var i=this.oController.getSession().getSessionID();t=t.substr(0,e)+\"(\"+i+\")\"+t.substr(e)}return t&&(e=t.lastIndexOf(\"/\"))>=0&&(t=t.substr(0,e)+\"/fileupload\"),t},uploadComplete:function(e,t,i){if(this._getAttachedECController()){var a=this._primaryPath;if(null!==e&&null!==t&&null!==i){var o=this._attachedECController.getDataContainer();o.setProperty(a+\"/content\",\"id=\"+e,this.getBindingContext()),o.setProperty(a+\"/fileName\",t,this.getBindingContext()),o.setProperty(a+\"/fileSize\",i,this.getBindingContext()),o.checkUpdate(a+\"/fileName.FormattedValue\"),this.oFileUploader.oFilePath&&this.oFileUploader.oFilePath.setValue(t)}var n;this.oFileUploader&&(n=new sap.client.evt.EventContext(this.oFileUploader)),this._onFileSelected=this.___checkAndCreateEH(this._onFileSelected);var s=this._onFileSelected;s&&this._attachedECController.getEventProcessor().handleEvent(s,n),this.oFileUploader.setTooltip(t)}},onFileUploadSuccess:function(e){var t=null,i=null,a=null,o=unescape(decodeURI(e.response));o=o.replace(/[\\r]/g,\"\");var n=o.split(\"\\n\");3===n.length&&(t=n[0].split(\"=\")[1],i=n[1].split(\"=\")[1],a=n[2].split(\"=\")[1]),this._closeUploadingDialog(),this.uploadComplete(t,i,a)},onFileUploadFail:function(e){this._closeUploadingDialog();var t;t=e.exception?e.exception:e.message,this._resetUploader(),sap.m.MessageToast.show(sap.client.m.Util.getLocaleText(\"FileUploadFailMsg\",\"Unable to upload file. \")+\" \"+t),jQuery.sap.log.info(\"onFileUploadFail exception \"+t)},onTakePictureSuccess:function(e){if(this.oImageResizer){var t=function(t){var i;i=e.startsWith(\"/\")?\"image-\"+(new Date).getTime()+\".jpg\":e.replace(/^.*[\\\\\\/]/,\"\"),this._onImageResized(null,t,i)},i=function(e){sap.m.MessageToast.show(sap.client.m.Util.getLocaleText(\"FileUploadFailMsg\",\"Unable to upload file. \")+\" \"+sap.client.m.Util.getLocaleText(\"FileUploadImageResizeFailMsg\",\"Failed to resize image\"))};if(this._oApplication.isOfflineMode()&&window.FilePicker){var a=\"data:image/jpeg;base64,\"+e;this.oImageResizer.resizeImage(a).then(t.bind(this),i)}else this.oImageResizer.resizeImagePath(e).then(t.bind(this),i)}else{var o,n=this._oApplication.getFileTransfer(),s=new window.FileUploadOptions;e.startsWith(\"/\")?(s.content=e,s.fileName=(new Date).getTime()+\".jpg\",o=s.fileName):(s.fileName=e.replace(/^.*[\\\\\\/]/,\"\"),o=e),s.fileKey=\"file\",s.mimeType=\"image/jpeg\",s.chunkedMode=!1,s.headers={Referer:window.location.href},this._showUploadingDialog();var r=this.getUploadURL(),l=this.onFileUploadSuccess.bind(this),h=this.onFileUploadFail.bind(this);n.upload(o,r,l,h,s)}},onTakePictureFail:function(e){jQuery.sap.log.info(\"onTakePictureFail for error \"+e)},onPictureButtonPress:function(e){if(navigator.camera){var t=navigator.camera.DestinationType.FILE_URI,i=45;this._oApplication.isOfflineMode()&&window.FilePicker&&(i=10,t=navigator.camera.DestinationType.DATA_URL);var a={quality:i,targetWidth:1024,targetHeight:768,saveToPhotoAlbum:!1,destinationType:t};navigator.camera.getPicture(this.onTakePictureSuccess.bind(this),this.onTakePictureFail.bind(this),a)}},_resetUploader:function(){if(this._getAttachedECController()){var e=this._primaryPath,t=this._attachedECController.getDataContainer();t.setProperty(e+\"/content\",null,this.getBindingContext()),t.setProperty(e+\"/fileName\",null,this.getBindingContext()),t.setProperty(e+\"/fileSize\",null,this.getBindingContext()),this.oFileUploader.oFilePath&&this.oFileUploader.oFilePath.setValue(\"\"),t.setProperty(\"/Root/$System/EditMode\",!1),t.setProperty(\"/Root/$System/IsThingDirty\",!1)}},___checkAndCreateEH:function(e){var t=e;if(0==e.length||0==e.lastIndexOf(\"ZCEH\",0))return t;if(!this._getAttachedECController())return t;this._attachedECController.getComponentModel().getEventHandlers();var i=this._attachedECController.getComponentModel().getEventHandler(e);if(i){var a=i._c.findIndex(function(e){return\"WindowAction\"==e._n&&\"Close\"==e._a.action});if(-1==a);else{var o=JSON.parse(JSON.stringify(i));o._a.id=i._a.id.substring(0,i._a.id.length-4)+\"ZCEH\",o._c.splice(a,1),t=\"ZCEH_\"+e,this._attachedECController.getComponentModel()._mEventHandlers[t]=o}}return t}})},!0);",
		"zcustom/frasers/ui5lib/control/ZFeederEnhancementPane.js": "sap.ui.define([\"sap/client/basecontrols/core/CustomPane\"],function(e){\"use strict\";return e.extend(\"zcustom.frasers.ui5lib.control.ZFeederEnhancementPane\",{metadata:{library:\"zcustom.frasers.ui5lib\",properties:{},aggregations:{},events:{}},renderer:function(e,t){jQuery.sap.log.debug(\">> renderer\",\"\",\"zCustomPane\"),t.getVisible()&&(e.write(\"<div\"),e.writeControlData(t),e.addClass(\"sapClientCodSeodFeeder\"),e.write(\"</div>\"))},initializePane:function(){jQuery.sap.log.debug(\">> initializePane\",\"\",\"zCustomPane\");var e=this;this._initializeControls(),this.getModel().attachDataContainerUpdateFinished(function(){e._onDataContainerUpdateFinished()})},aControls:[],fFromUser:!1,fToAccount:!1,fToVendor:!1,fToAgent:!1,sUserEmail:\"\",oCurrentFeeder:null,_getControls:function(e){jQuery.sap.log.debug(\">> _getControls\",\"\",\"zCustomPane\");var t=this;if(!this.aControls[e]){var o={};o.oFromUser=new sap.ui.commons.CheckBox({text:\"Use user’s email as sender\",tooltip:\"Use user’s email as sender\",checked:!0,change:function(e){t._onFromUserChange(e.mParameters.checked)}}),o.oFromUser.addStyleClass(\"outlookBox\"),o.oToAccount=new sap.ui.commons.CheckBox({text:\"Use Account’s email as recipient\",tooltip:\"Use Account’s email as recipient\",checked:!1,change:function(e){t._onToAccountChange(e.mParameters.checked)}}),o.oToAccount.addStyleClass(\"outlookBox\"),o.oToVendor=new sap.ui.commons.CheckBox({text:\"Use Partner’s email as recipient\",tooltip:\"Use Partner’s email as recipient\",checked:!0,change:function(e){t._onToVendorChange(e.mParameters.checked)}}),o.oToVendor.addStyleClass(\"outlookBox\"),o.oToAgent=new sap.ui.commons.CheckBox({text:\"Use Agent’s email as recipient\",tooltip:\"Use Agent’s email as recipient\",checked:!1,change:function(e){t._onToAgentChange(e.mParameters.checked)}}),o.oToAgent.addStyleClass(\"outlookBox\"),o.oRecipientLayout=new sap.ui.commons.layout.VerticalLayout({width:\"100%\",content:[o.oToAccount,o.oToVendor,o.oToAgent]}),this.aControls.splice(e,0,o)}return this.aControls[e]},_initializeControls:function(){jQuery.sap.log.debug(\">> _initializeControls\",\"\",\"zCustomPane\");this.aControls=[],this.fFromUser=!0,this.fToAccount=!1,this.fToVendor=!0,this.fToAgent=!1,this._onRecipientChange(),this._onFromUserChange(this.fFromUser)},onBeforeRendering:function(){jQuery.sap.log.debug(\">> onBeforeRendering\",\"\",\"zCustomPane\")},onAfterRendering:function(){jQuery.sap.log.debug(\">> onAfterRendering\",\"\",\"zCustomPane\");var e=this;this.aControls=[],this._onDataContainerUpdateFinished();for(var t=!1,o=0,n=null,r=this.getController().getParentController()._oCurrentComponentModel._mNodeNames.CustomPane,a=0;a<r.length;a++){var s=r[a];if(s._a&&s._a.jsTypeName&&s._a.jsTypeName.indexOf(\"Feeder\")>=0){t=!0;break}}if(t){var i=0;if(this.oCurrentFeeder)try{i=parseInt(this.oCurrentFeeder.sId.replace(\"__feeder\",\"\"),10)}catch(e){i=0}else i=0;var l=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Number.MAX_VALUE,u=null;for(a=i;a<=l;a++){var c=\"__feeder\"+a;if(u=sap.ui.getCore().byId(c))u.oReplyLayout&&(n=u);else if(n)break}n&&n.oReplyLayout&&(n.oReplyLayout.addContent(this._getNewLayout(o)),n.addEventDelegate({onAfterRendering:function(t){e.oCurrentFeeder=t.srcControl}}),o++,this.oCurrentFeeder=n,this.oCurrentFeeder.oOutlookScoped&&this.oCurrentFeeder.oOutlookScoped.setChecked(!1))}if(this.oCurrentFeeder){var h=this.oCurrentFeeder,g=this.oCurrentFeeder.cancelButtonPress;this.oCurrentFeeder.cancelButtonPress=function(){h.bIsReply=!1,g.apply(h)},h.oEmailSendButton&&h.oEmailSendButton.attachPress(function(){h.bIsReply=!1})}var d=this.getController().getParentController().getDataContainer().getDataObject(\"/Root/zFeederRelevant/ToList\");d&&d.attachValueChanged(function(){var t=e._getValue(\"Root/zFeederRelevant/ReplyEmail\"),o=e._getValue(\"/Root/zFeederRelevant/ToList\");t?t!==o&&e._onRecipientChange():o!==e.sTo&&e._onRecipientChange()}),(d=this.getController().getParentController().getDataContainer().getDataObject(\"/Root/zFeederRelevant/NewToEmail\"))&&d.attachValueChanged(function(){var t=e._getValue(\"Root/zFeederRelevant/ReplyEmail\"),o=e._getValue(\"/Root/zFeederRelevant/NewToEmail\");t?t!==o&&e._onRecipientChange():o!==e.sTo&&e._onRecipientChange()})},_getNewLayout:function(e){jQuery.sap.log.debug(\">> _getNewLayout\",\"\",\"zCustomPane\");var t=this._getControls(e),o=null;return t&&(o=new sap.ui.commons.layout.VerticalLayout({width:\"100%\",content:[t.oFromUser,t.oRecipientLayout]})),o},_onDataContainerUpdateFinished:function(){jQuery.sap.log.debug(\">> _onDataContainerUpdateFinished\",\"\",\"zCustomPane\"),this._onRecipientChange(),this._onFromUserChange(this.fFromUser)},_onFromUserChange:function(e){jQuery.sap.log.debug(\">> _onFromUserChange\");try{if(this.fFromUser!==e||!this.sUserEmail){this.fFromUser=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oFromUser.getChecked()!==e&&this.aControls[t].oFromUser.setChecked(e);this.fFromUser?(this.sUserEmail=this._getUserEmail(),this._setFromField(this.sUserEmail)):this._setFromField(\"\")}}catch(e){jQuery.sap.log.debug(\"Error in _onFromUserChange: \"+e.message)}},_onToAccountChange:function(e){if(jQuery.sap.log.debug(\">> _onToAccountChange\",\"\",\"zCustomPane\"),this.fToAccount!==e){this.fToAccount=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oToAccount.getChecked()!==e&&this.aControls[t].oToAccount.setChecked(e);this._onRecipientChange()}},_onToVendorChange:function(e){if(jQuery.sap.log.debug(\">> _onToVendorChange\",\"\",\"zCustomPane\"),this.fToVendor!==e){this.fToVendor=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oToVendor.getChecked()!==e&&this.aControls[t].oToVendor.setChecked(e);this._onRecipientChange()}},_onToAgentChange:function(e){if(jQuery.sap.log.debug(\">> _onToAgentChange\",\"\",\"zCustomPane\"),this.fToAgent!==e){this.fToAgent=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oToAgent.getChecked()!==e&&this.aControls[t].oToAgent.setChecked(e);this._onRecipientChange()}},_onRecipientChange:function(){if(jQuery.sap.log.debug(\">> _onRecipientChange\",\"\",\"zCustomPane\"),!this.oCurrentFeeder||!this.oCurrentFeeder.bComposeNewEmail&&!this.oCurrentFeeder.bIsReply)try{var e=this._getValue(\"/Root/ZAccountEmail\"),t=this._getValue(\"/Root/ZVendorEmail\"),o=this._getValue(\"/Root/ZAgentEmail\");this.sTo=this._getValue(\"/Root/zFeederRelevant/ToList\"),this.sTo=\"\",this.fToAccount&&e&&(this.sTo=this.sTo.concat(e).concat(\"; \")),this.fToVendor&&t&&(this.sTo=this.sTo.concat(t).concat(\"; \")),this.fToAgent&&o&&(this.sTo=this.sTo.concat(o).concat(\"; \")),this._setValue(\"/Root/zFeederRelevant/ToList\",this.sTo),this._setValue(\"/Root/zFeederRelevant/NewToEmail\",this.sTo)}catch(e){jQuery.sap.log.debug(\"Error in _onFromUserChange: \"+e.message)}},_setFromField:function(e){jQuery.sap.log.debug(\">> _setFromField\",\"\",\"zCustomPane\");try{this._setValue(\"/Root/zFeederRelevant/SelectedSMAPEmail\",e)}catch(e){jQuery.sap.log.debug(\"Error in _setFromField: \"+e.message)}},_getUserEmail:function(){jQuery.sap.log.debug(\">> _getUserEmail\",\"\",\"zCustomPane\");var e=\"\";try{e=this._getValue(\"/Root/ZCurrentUserEmail\")}catch(e){jQuery.sap.log.debug(\"Error in _getUserEmail: \"+e.message)}return e},_setValue:function(e,t){jQuery.sap.log.debug(\">> _setValue\",\"\",\"zCustomPane\");for(var o=this.getController();o;){var n=o.getDataContainer();if(n&&n.getDataObject(e)){n.getDataObject(e).setValue(t);break}o=o.getParentController()}},_getValue:function(e){jQuery.sap.log.debug(\">> _getValue\",\"\",\"zCustomPane\");for(var t=\"\",o=this.getController();o;){var n=o.getDataContainer();if(n&&n.getDataObject(e)){t=n.getDataObject(e).getValue();break}o=o.getParentController()}return t}})},!0);",
		"zcustom/frasers/ui5lib/control/ZFeederEnhancementPaneV2.js": "sap.ui.define([\"sap/client/basecontrols/core/CustomPane\"],function(e){\"use strict\";return e.extend(\"zcustom.frasers.ui5lib.control.ZFeederEnhancementPaneV2\",{metadata:{library:\"zcustom.frasers.ui5lib\",properties:{},aggregations:{},events:{}},renderer:function(e,t){jQuery.sap.log.debug(\">> renderer\",\"\",\"zCustomPane\"),t.getVisible()&&(e.write(\"<div\"),e.writeControlData(t),e.addClass(\"sapClientCodSeodFeeder\"),e.write(\"</div>\"))},initializePane:function(){jQuery.sap.log.debug(\">> initializePane\",\"\",\"zCustomPane\");var e=this;this._oLayout=null,this._oControls=null,this._initParameters(),sap.client.getCurrentApplication().isNewUI()&&(this._feederECController=this._fetchFeederECController(),this._feederECController&&this._onChildControllerAdded(),this.getController().getParentController().attachEvent(\"ChildControllerAdded\",this,this._onChildControllerAdded,this)),this._initializeControls(),this.getModel().attachDataContainerUpdateFinished(function(){e._onDataContainerUpdateFinished()})},_initParameters:function(){this._feederECName=\"\",this._feederECName2=\"\",this._sToPath=\"\",this._sToPathOutlook=\"\",this._sFromPath=\"\",sap.client.getCurrentApplication().isNewUI()?(this._feederECName=\"COD_Interactions_EC\",this._sToPath=\"/Root/Feeder/Email/ToList\",this._sToPathOutlook=\"\",this._sFromPath=\"/Root/Feeder/Email/From\"):(this._sToPath=\"/Root/zFeederRelevant/ToList\",this._sToPathOutlook=\"/Root/zFeederRelevant/NewToEmail\",this._sFromPath=\"/Root/zFeederRelevant/SelectedSMAPEmail\")},_onChildControllerAdded:function(e){this._fetchFeederECController()},_onECInterActionFinished:function(e){if(sap.client.getCurrentApplication().isNewUI())try{this._oInlineResponse||(this._oInlineResponse=this._feederECController.getBaseControl().getContent()[0].getContent(),\"sap.client.cod.seod.RUIResponse.InlineResponse\"===this._oInlineResponse._sTypeName&&(this._oInlineResponse._inlineResponseLayout||(this._oInlineResponse._inlineResponseLayout=new sap.ui.layout.VerticalLayout,this._oInlineResponse._inlineResponseLayout.addStyleClass(\"ruiResponseInlineResponseLayout\")),this._oInlineResponse._inlineResponseLayout.addContent(this._getNewLayoutRUI()),this._oInlineResponse.invalidate(),this._initializeControls(),this.onAfterRendering()))}catch(e){jQuery.sap.log.debug(\"Error in _onECInterActionFinished: \"+e.message)}},_fetchFeederECController:function(){try{this._feederECController=this.getController().getParentController().getChildController(this._feederECName),this._feederECController||this._feederECName2||(this._feederECController=this.getController().getParentController().getChildController(this._feederECName2)),this._feederECController&&this._feederECController.attachEvent(\"ECInterActionFinished\",this,this._onECInterActionFinished,this)}catch(e){this._feederECController=void 0}return this._feederECController},aControls:[],fFromUser:!1,fToAccount:!1,fToVendor:!1,fToAgent:!1,sUserEmail:\"\",oCurrentFeeder:null,_getControls:function(e){jQuery.sap.log.debug(\">> _getControls\",\"\",\"zCustomPane\");var t=this;if(!this.aControls[e]){var o={};o.oFromUser=new sap.ui.commons.CheckBox({text:\"Use user’s email as sender\",tooltip:\"Use user’s email as sender\",checked:!0,change:function(e){t._onFromUserChange(e.mParameters.checked)}}),o.oFromUser.addStyleClass(\"outlookBox\"),o.oToAccount=new sap.ui.commons.CheckBox({text:\"Use Account’s email as recipient\",tooltip:\"Use Account’s email as recipient\",checked:!1,change:function(e){t._onToAccountChange(e.mParameters.checked)}}),o.oToAccount.addStyleClass(\"outlookBox\"),o.oToVendor=new sap.ui.commons.CheckBox({text:\"Use Partner’s email as recipient\",tooltip:\"Use Partner’s email as recipient\",checked:!0,change:function(e){t._onToVendorChange(e.mParameters.checked)}}),o.oToVendor.addStyleClass(\"outlookBox\"),o.oToAgent=new sap.ui.commons.CheckBox({text:\"Use Agent’s email as recipient\",tooltip:\"Use Agent’s email as recipient\",checked:!1,change:function(e){t._onToAgentChange(e.mParameters.checked)}}),o.oToAgent.addStyleClass(\"outlookBox\"),o.oRecipientLayout=new sap.ui.commons.layout.VerticalLayout({width:\"100%\",content:[o.oToAccount,o.oToVendor,o.oToAgent]}),this.aControls.splice(e,0,o)}return this.aControls[e]},_getControlsRUI:function(){if(jQuery.sap.log.debug(\">> _getControlsRUI\",\"\",\"zCustomPane\"),!this._oControls){var e={};e.oFromUser=new sap.m.CheckBox({text:\"Use user’s email as sender\",tooltip:\"Use user’s email as sender\",selected:!0,select:function(e){this._onFromUserChange(e.getParameter(\"selected\"))}.bind(this)}),e.oToAccount=new sap.m.CheckBox({text:\"Use Account’s email as recipient\",tooltip:\"Use Account’s email as recipient\",selected:!1,select:function(e){this._onToAccountChange(e.getParameter(\"selected\"))}.bind(this)}),e.oToVendor=new sap.m.CheckBox({text:\"Use Partner’s email as recipient\",tooltip:\"Use Partner’s email as recipient\",selected:!0,select:function(e){this._onToVendorChange(e.getParameter(\"selected\"))}.bind(this)}),e.oToAgent=new sap.m.CheckBox({text:\"Use Agent’s email as recipient\",tooltip:\"Use Agent’s email as recipient\",selected:!1,select:function(e){this._onToAgentChange(e.getParameter(\"selected\"))}.bind(this)}),e.oRecipientLayout=new sap.ui.layout.HorizontalLayout({width:\"100%\",content:[e.oToAccount,e.oToVendor,e.oToAgent]}),this._oControls=e}return this._oControls},_initializeControls:function(){jQuery.sap.log.debug(\">> _initializeControls\",\"\",\"zCustomPane\");this.aControls=[],this.fFromUser=!0,this.fToAccount=!1,this.fToVendor=!0,this.fToAgent=!1,this._onRecipientChange(),this._onFromUserChange(this.fFromUser)},onBeforeRendering:function(){jQuery.sap.log.debug(\">> onBeforeRendering\",\"\",\"zCustomPane\")},onAfterRendering:function(){jQuery.sap.log.debug(\">> onAfterRendering\",\"\",\"zCustomPane\");var e=this;this.aControls=[],this._onDataContainerUpdateFinished();for(var t=!1,o=0,n=null,s=this.getController().getParentController()._oCurrentComponentModel._mNodeNames.CustomPane,i=0;i<s.length;i++){var r=s[i];if(r._a&&r._a.jsTypeName&&r._a.jsTypeName.indexOf(\"Feeder\")>=0){t=!0;break}}if(t){var a=0;if(this.oCurrentFeeder)try{a=parseInt(this.oCurrentFeeder.sId.replace(\"__feeder\",\"\"),10)}catch(e){a=0}else a=0;var l=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Number.MAX_VALUE,h=null;for(i=a;i<=l;i++){var u=\"__feeder\"+i;if(h=sap.ui.getCore().byId(u))h.oReplyLayout&&(n=h);else if(n)break}n&&n.oReplyLayout&&(n.oReplyLayout.addContent(this._getNewLayout(o)),n.addEventDelegate({onAfterRendering:function(t){e.oCurrentFeeder=t.srcControl}}),o++,this.oCurrentFeeder=n,this.oCurrentFeeder.oOutlookScoped&&this.oCurrentFeeder.oOutlookScoped.setChecked(!1))}if(this.oCurrentFeeder){var c=this.oCurrentFeeder,C=this.oCurrentFeeder.cancelButtonPress;this.oCurrentFeeder.cancelButtonPress=function(){c.bIsReply=!1,C.apply(c)},c.oEmailSendButton&&c.oEmailSendButton.attachPress(function(){c.bIsReply=!1})}if(this._oToDataObject=this._feederECController?this._feederECController.getDataContainer().getDataObject(this._sToPath):this.getController().getParentController().getDataContainer().getDataObject(this._sToPath),this._oToDataObject&&this._oToDataObject.attachValueChanged(function(){var e=this._getValue(\"/Root/zFeederRelevant/ReplyEmail\"),t=this._oToDataObject.getValue();e?e!==t&&this._onRecipientChange():t!==this.sTo&&this._onRecipientChange()}.bind(this)),this._sToPathOutlook){var d=this.getController().getParentController().getDataContainer().getDataObject(this._sToPathOutlook);d&&d.attachValueChanged(function(){var e=this._getValue(\"/Root/zFeederRelevant/ReplyEmail\"),t=this._getValue(this._sToPathOutlook);e?e!==t&&this._onRecipientChange():t!==this.sTo&&this._onRecipientChange()}.bind(this))}},_getNewLayout:function(e){jQuery.sap.log.debug(\">> _getNewLayout\",\"\",\"zCustomPane\");var t=this._getControls(e),o=null;return t&&(o=new sap.ui.commons.layout.VerticalLayout({width:\"100%\",content:[t.oFromUser,t.oRecipientLayout]})),o},_getNewLayoutRUI:function(){return jQuery.sap.log.debug(\">> _getNewLayoutRUI\",\"\",\"zCustomPane\"),this._oLayout||(this._oControls=this._getControlsRUI(),this._oControls&&(this._oLayout=new sap.ui.layout.VerticalLayout({width:\"100%\",content:[this._oControls.oFromUser,this._oControls.oRecipientLayout]}))),this._oLayout},_onDataContainerUpdateFinished:function(){jQuery.sap.log.debug(\">> _onDataContainerUpdateFinished\",\"\",\"zCustomPane\"),this._onRecipientChange(),this._onFromUserChange(this.fFromUser)},_onFromUserChange:function(e){jQuery.sap.log.debug(\">> _onFromUserChange\");try{if(this.fFromUser!==e||!this.sUserEmail){this.fFromUser=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oFromUser.getChecked()!==e&&this.aControls[t].oFromUser.setChecked(e);this.fFromUser?(this.sUserEmail=this._getUserEmail(),this._setFromField(this.sUserEmail)):this._setFromField(\"\")}}catch(e){jQuery.sap.log.debug(\"Error in _onFromUserChange: \"+e.message)}},_onToAccountChange:function(e){if(jQuery.sap.log.debug(\">> _onToAccountChange\",\"\",\"zCustomPane\"),this.fToAccount!==e){this.fToAccount=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oToAccount.getChecked()!==e&&this.aControls[t].oToAccount.setChecked(e);this._onRecipientChange()}},_onToVendorChange:function(e){if(jQuery.sap.log.debug(\">> _onToVendorChange\",\"\",\"zCustomPane\"),this.fToVendor!==e){this.fToVendor=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oToVendor.getChecked()!==e&&this.aControls[t].oToVendor.setChecked(e);this._onRecipientChange()}},_onToAgentChange:function(e){if(jQuery.sap.log.debug(\">> _onToAgentChange\",\"\",\"zCustomPane\"),this.fToAgent!==e){this.fToAgent=e;for(var t=0;t<this.aControls.length;t++)this.aControls[t]&&this.aControls[t].oToAgent.getChecked()!==e&&this.aControls[t].oToAgent.setChecked(e);this._onRecipientChange()}},_onRecipientChange:function(){if(jQuery.sap.log.debug(\">> _onRecipientChange\",\"\",\"zCustomPane\"),!this.oCurrentFeeder||!this.oCurrentFeeder.bComposeNewEmail&&!this.oCurrentFeeder.bIsReply)try{var e=this._getValue(\"/Root/ZAccountEmail\"),t=this._getValue(\"/Root/ZVendorEmail\"),o=this._getValue(\"/Root/ZAgentEmail\");this._oToDataObject&&(this.sTo=this._oToDataObject.getValue(),this.sTo=\"\",this.fToAccount&&e&&(this.sTo=this.sTo.concat(e).concat(\"; \")),this.fToVendor&&t&&(this.sTo=this.sTo.concat(t).concat(\"; \")),this.fToAgent&&o&&(this.sTo=this.sTo.concat(o).concat(\"; \")),this._oToDataObject.setValue(this.sTo),this._sToPathOutlook&&this._setValue(this._sToPathOutlook,this.sTo))}catch(e){jQuery.sap.log.debug(\"Error in _onFromUserChange: \"+e.message)}},_setFromField:function(e){jQuery.sap.log.debug(\">> _setFromField\",\"\",\"zCustomPane\");try{if(this._feederECController){var t=this._feederECController.getDataContainer().getDataObject(this._sFromPath);t&&t.setValue(e)}else this._setValue(this._sFromPath,e)}catch(e){jQuery.sap.log.debug(\"Error in _setFromField: \"+e.message)}},_getUserEmail:function(){jQuery.sap.log.debug(\">> _getUserEmail\",\"\",\"zCustomPane\");var e=\"\";try{e=this._getValue(\"/Root/ZCurrentUserEmail\")}catch(e){jQuery.sap.log.debug(\"Error in _getUserEmail: \"+e.message)}return e},_setValue:function(e,t){jQuery.sap.log.debug(\">> _setValue\",\"\",\"zCustomPane\");for(var o=this.getController();o;){var n=o.getDataContainer();if(n&&n.getDataObject(e)){n.getDataObject(e).setValue(t);break}o=o.getParentController()}},_getValue:function(e){jQuery.sap.log.debug(\">> _getValue\",\"\",\"zCustomPane\");for(var t=\"\",o=this.getController();o;){var n=o.getDataContainer();if(n&&n.getDataObject(e)){t=n.getDataObject(e).getValue();break}o=o.getParentController()}return t}})},!0);",
		"zcustom/frasers/ui5lib/control/ZPoCCustomPane.js": "sap.ui.define([\"sap/client/basecontrols/core/CustomPane\",\"sap/m/MessageToast\",\"sap/m/MessageBox\"],function(e,t,n){\"use strict\";return e.extend(\"zcustom.frasers.ui5lib.control.ZPoCCustomPane\",{metadata:{library:\"zcustom.frasers.ui5lib\",properties:{},aggregations:{_btn:{type:\"sap.m.Button\",multiple:!1,visibility:\"hidden\"}},events:{}},renderer:function(e,t){jQuery.sap.log.debug(\">> renderer\"),t.getVisible()&&(e.write(\"<span\"),e.writeControlData(t),e.write(\">\"),e.renderControl(t.getAggregation(\"_btn\")),e.write(\"</span>\"))},initializePane:function(){jQuery.sap.log.debug(\">> initializePane\");this.btn=new sap.m.Button({width:\"100%\",text:\"Test\",press:jQuery.proxy(this._onButtonPressed,this)}),this.setAggregation(\"_btn\",this.btn)},onBeforeRendering:function(){jQuery.sap.log.debug(\">> onBeforeRendering\")},onAfterRendering:function(){jQuery.sap.log.debug(\">> onAfterRendering\")},_onButtonPressed:function(){jQuery.sap.log.debug(\">> _onButtonPressed\");try{this.getController().getParentController().getDataContainer().getDataObject(\"/Root/zFeederRelevant/SelectedSMAPEmail\").setValue(\"vishneuski@gmail.com\")}catch(e){jQuery.sap.log.error(\"Error in _onButtonPressed: \",e.message,\"zcustom\")}}})},!0);",
		"zcustom/frasers/ui5lib/ext/ZImage.js": "sap.ui.define([\"sap/m/library\",\"sap/m/Image\",\"sap/m/ImageRenderer\"],function(e,r,t){\"use strict\";var i=e.ImageMode,o=r.extend(\"zcustom.frasers.ui5lib.ext.ZImage\",{metadata:{library:\"zcustom.frasers.ui5lib\"},renderer:function(e,r){t.render(e,r)}});return o.prototype.onAfterRendering=function(){var e,r=this.$(),t=this.getMode();this.getDetailBox()&&(r=this.$().children(\"img\").first()),t===i.Image&&(r.on(\"load\",jQuery.proxy(this.onload,this)),r.on(\"error\",jQuery.proxy(this.onerror,this)),e=r[0]),t===i.Background&&(e=this._oImage),e&&e.complete&&!this._defaultEventTriggered&&(e.naturalWidth>0?this.onload({}):this.onerror({}))},o});",
		"zcustom/frasers/ui5lib/ext/ZThumbnailTile.js": "sap.ui.define([\"sap/m/GenericTile\",\"zcustom/frasers/ui5lib/ext/ZThumbnailTileRenderer\",\"sap/m/library\"],function(e,t,i){\"use strict\";var r=e.extend(\"zcustom.frasers.ui5lib.ext.ZThumbnailTile\",{metadata:{library:\"zcustom.frasers.ui5lib\"},renderer:function(e,i){t.render(e,i)}});return r.prototype._isHeaderTextTruncated=function(){var e,t,r;return this.getMode()===i.GenericTileMode.LineMode?(t=this.$(\"hdr-text\"),t.length>0&&(r=Math.ceil(t[0].getBoundingClientRect().width),t[0]&&r<t[0].scrollWidth)):!!(e=this.getAggregation(\"_titleText\").getDomRef(\"inner\"))&&this.getAggregation(\"_titleText\").getClampHeight(e)<e.scrollHeight},r});",
		"zcustom/frasers/ui5lib/ext/ZThumbnailTileContent.js": "sap.ui.define([\"sap/m/TileContent\",\"zcustom/frasers/ui5lib/ext/ZThumbnailTileContentRenderer\"],function(e,t){\"use strict\";return e.extend(\"zcustom.frasers.ui5lib.ext.ZThumbnailTileContent\",{metadata:{library:\"zcustom.frasers.ui5lib\"},renderer:function(e,n){t.render(e,n)}})});",
		"zcustom/frasers/ui5lib/ext/ZThumbnailTileContentRenderer.js": "sap.ui.define([\"sap/m/library\",\"jquery.sap.global\",\"sap/m/TileContentRenderer\",\"sap/ui/core/Renderer\"],function(e,t,r,n){\"use strict\";var a=n.extend(r);return a.render=function(e,r){var n=r.getTooltip_AsString(),a=r._getContentType();a&&(a=t.sap.encodeCSS(a));var i=t.sap.encodeCSS(\"sapMFrameType\"+r.getFrameType());e.write(\"<div\"),e.writeControlData(r),e.addClass(\"ZsapMTileCnt\"),e.addClass(a),e.addClass(i),n.trim()&&e.writeAttributeEscaped(\"title\",n),e.writeClasses(),e.write(\">\"),this._renderContent(e,r),r.getFooter()&&this._super._renderFooter(e,r),e.write(\"</div>\")},a._renderContent=function(e,t){if(t._bRenderContent){var r=t.getContent();r&&(e.write(\"<div\"),e.writeClasses(),e.writeAttribute(\"id\",t.getId()+\"-content\"),e.write(\">\"),r.hasStyleClass(\"sapMTcInnerMarker\")||r.addStyleClass(\"sapMTcInnerMarker\"),e.renderControl(r),e.write(\"</div>\"))}},a},!0);",
		"zcustom/frasers/ui5lib/ext/ZThumbnailTileRenderer.js": "sap.ui.define([\"sap/m/library\",\"jquery.sap.global\",\"sap/m/GenericTileRenderer\",\"sap/ui/core/Renderer\"],function(e,t,r,a){\"use strict\";var s=e.GenericTileMode,i=e.GenericTileScope,d=e.LoadState,n=a.extend(r);return n.render=function(e,r){var a=r._getTooltipText(),n=r._getAriaText(),o=r.getHeaderImage(),l=r.hasListeners(\"press\"),p=r.getState(),c=r.getScope(),u=t.sap.encodeCSS(\"sapMGTState\"+p),g=t.sap.encodeCSS(\"sapMGTScope\"+c);e.write(\"<div\"),e.writeControlData(r),a&&e.writeAttributeEscaped(\"title\",a),e.addClass(\"sapMGT\"),e.addClass(u),e.addClass(g),c!==i.Actions&&r._bShowActionsView&&e.addClass(\"sapMGTScopeActions\"),e.addClass(r.getFrameType()),l?e.writeAttribute(\"role\",\"button\"):e.writeAttribute(\"role\",\"presentation\"),e.writeAttributeEscaped(\"aria-label\",n),p!==d.Disabled&&(e.addClass(\"sapMPointer\"),e.writeAttribute(\"tabindex\",\"0\")),r.getBackgroundImage()&&(e.write(\" style='background-image:url(\"),e.writeEscaped(r.getBackgroundImage()),e.write(\");'\"),e.addClass(\"sapMGTBackgroundImage\")),r.getMode()===s.HeaderMode&&e.addClass(\"sapMGTHeaderMode\"),e.writeClasses(),e.write(\">\"),r.getHeader()&&(e.write(\"<div\"),e.addClass(\"sapMGTHdrContent\"),e.addClass(r.getFrameType()),a&&e.writeAttributeEscaped(\"title\",a),e.writeClasses(),e.write(\">\"),o&&e.renderControl(r._oImage),this._super._renderHeader(e,r),r.getSubheader()&&this._super._renderSubheader(e,r),e.write(\"</div>\")),e.write(\"<div\"),r.getHeader()?e.addClass(\"sapMGTContent\"):e.addClass(\"ZsapMGTContent\"),e.writeClasses(),e.writeAttribute(\"id\",r.getId()+\"-content\"),e.write(\">\");for(var w=r.getTileContent(),C=w.length,b=0;b<C;b++)r._checkFooter(w[b],r),e.renderControl(w[b]);e.write(\"</div>\"),p!==d.Loaded&&this._super._renderStateOverlay(e,r,a),p!==d.Disabled&&(this._super._renderHoverOverlay(e,r),this._super._renderFocusDiv(e,r)),c===i.Actions&&this._renderActionsScope(e,r),e.write(\"</div>\")},n._renderActionsScope=function(e,t){t.getState()!==d.Disabled&&e.renderControl(t._oRemoveButton)},n},!0);",
		"zcustom/frasers/ui5lib/library.js": "/*!\n * ${copyright}\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/library\"],function(e,r){\"use strict\";return sap.ui.getCore().initLibrary({name:\"zcustom.frasers.ui5lib\",dependencies:[],types:[],interfaces:[],controls:[\"zcustom.frasers.ui5lib.control.ZPoCCustomPane\",\"zcustom.frasers.ui5lib.control.ZFeederEnhancementPane\",\"zcustom.frasers.ui5lib.control.ZFeederEnhancementPaneV2\",\"zcustom.frasers.ui5lib.control.ZAttachmentsPane\",\"zcustom.frasers.ui5lib.ext.ZThumbnailTile\",\"zcustom.frasers.ui5lib.ext.ZThumbnailTileRenderer\",\"zcustom.frasers.ui5lib.ext.ZThumbnailTileContent\",\"zcustom.frasers.ui5lib.ext.ZThumbnailTileContentRenderer\",\"zcustom.frasers.ui5lib.ext.ZImage\"],elements:[],noLibraryCSS:!0,version:\"1.1.0\"}),zcustom.frasers.ui5lib});",
		"zcustom/frasers/ui5lib/messagebundle.properties": "lib.title=ZCustom UI5 Library for C4C\nlib.descr=ZCustom UI5 Library for C4C\n\n"
	}
});